# Quest - Квантовый процессор для Ethereum Virtual Machine

Quest - это экспериментальная замена стандартного EVM-процессора на квантовый процессор для повышения производительности и эффективности выполнения смарт-контрактов.

## Особенности

- Квантовая симуляция для ускорения вычислений
- Параллельное выполнение независимых операций
- Совместимость со стандартным EVM (работает как расширение)
- Возможность использования специализированных квантовых операций в смарт-контрактах

## Установка

Quest автоматически скачивается и компилируется при сборке geth. Для этого используется скрипт `quest/setup.sh`.

Зависимости:
- Git
- CMake 3.12+
- Компилятор C++ с поддержкой C++17
- Make

## Использование

### Запуск geth с квантовым процессором

```bash
geth --quest
```

### Параметры командной строки

- `--quest` - включает использование квантового процессора Quest
- `--quest.threads=N` - количество потоков для параллельного выполнения (0 = автоматически)
- `--quest.fallback` - разрешает использовать EVM как fallback для контрактов, не поддерживающих Quest

### Программное использование

```go
import (
	"github.com/ethereum/go-ethereum/core/vm"
	"github.com/ethereum/go-ethereum/quest"
)

// Создание конфигурации с включенным Quest
config := vm.Config{
	EnableQuest: true,
	QuestOptions: map[string]interface{}{
		"Threads": 4,
		"Fallback": true,
	},
}

// Создание EVM с квантовым процессором
evm := vm.NewEVM(blockContext, statedb, chainConfig, config)
```

## Разработка смарт-контрактов для Quest

Стандартные контракты Solidity полностью совместимы с Quest, но для полного использования возможностей квантового процессора рекомендуется использовать специальные инструкции.

### Пример использования квантовых операций

```solidity
// SPDX-License-Identifier: MIT
pragma solidity ^0.8.0;

contract QuantumExample {
    // Маркер для квантового процессора
    // (в байт-коде будет 0xF0F1)
    bytes2 constant QUANTUM_MARKER = hex"F0F1";
    
    function quantumOperation() internal {
        assembly {
            // Здесь будут квантовые операции
            mstore(0, QUANTUM_MARKER)
        }
    }
    
    function compute(uint[] memory data) public returns (uint) {
        // Используем квантовое вычисление
        quantumOperation();
        
        // Обычный код
        uint result = 0;
        for (uint i = 0; i < data.length; i++) {
            result += data[i];
        }
        return result;
    }
}
```

## Архитектура

Quest интегрируется с geth следующим образом:

1. При запуске geth скачивается и компилируется библиотека quest-kit
2. Go-обертка для C/C++ кода quest-kit предоставляет API для взаимодействия с квантовым процессором
3. Адаптер Quest-EVM заменяет стандартный интерпретатор EVM на квантовый процессор
4. Контракты с квантовыми операциями выполняются на Quest, остальные могут использовать стандартный EVM

## Ограничения

- Экспериментальный статус - не рекомендуется использовать в production
- Не все операции EVM поддерживают квантовое ускорение
- Требуется дополнительная память для квантовой симуляции
- Ограниченная поддержка некоторых precompiled контрактов

## Лицензия

Такая же, как у проекта go-ethereum - GNU Lesser General Public License v3.0 